<!DOCTYPE html>
<html lang="en">
<head
    prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# object: http://ogp.me/ns/object# article: http://ogp.me/ns/article# profile: http://ogp.me/ns/profile#">
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="Content-Language" content="en">
    <title>chchmlml/qrcode</title>
    <link rel="assets" href="https://assets-cdn.github.com/">
    <link rel="web-socket"
          href="wss://live.github.com/_sockets/ODk5OTA3OmM2ZWZmMTY1ZTk0Njc5MWQxMGEzMjU4YWY1M2VhMzQ2OjM4ZTI4Y2Y3ZjdmOWUyMjhlMjE0OTgyOGEwZTVlNTM5Yzk1M2NmZGFmYWY3ZjYyNTY1NDc1YTg4YjFjNjEzYzE=--c7b3ea47e6e1dae369cf4547df342839c3df5a58">
    <link rel="sudo-modal" href="/sessions/sudo_modal">
    <link rel="mask-icon" href="https://assets-cdn.github.com/pinned-octocat.svg" color="#4078c0">
    <link rel="icon" type="image/x-icon" href="https://assets-cdn.github.com/favicon.ico">
    <link crossorigin="anonymous"
          href="https://assets-cdn.github.com/assets/github-5e2d1232bc97970f293f259bcb6ab137945cb5635b398c2a81027bf21f0255c8.css"
          media="all" rel="stylesheet"/>
    <link crossorigin="anonymous"
          href="https://assets-cdn.github.com/assets/github2-bcce22057877160838a39c51a6270cf95fb927fc317253965cdbc182f32be960.css"
          media="all" rel="stylesheet"/>
    <link href="https://github.com/chchmlml/qrcode/commits/master.atom" rel="alternate"
          title="Recent Commits to qrcode:master" type="application/atom+xml">
</head>


<body>
<p>&nbsp;</p>

<p>&nbsp;</p>

<div role="main" class="main-content">
    <div itemscope itemtype="http://schema.org/WebPage">
        <div id="js-repo-pjax-container" class="context-loader-container js-repo-nav-next" data-pjax-container>
            <div class="container repo-container new-discussion-timeline experiment-repo-nav">
                <div class="repository-content">
                    <div id="readme" class="boxed-group flush clearfix announce instapaper_body md">
                        <h3>
                            <span class="octicon octicon-book"></span>
                            README.md
                        </h3>

                        <article class="markdown-body entry-content" itemprop="mainContentOfPage"><h3><a
                                    id="user-content-自动审核图片二维码识别" class="anchor" href="#自动审核图片二维码识别" aria-hidden="true"><span
                                        class="octicon octicon-link"></span></a>自动审核图片二维码识别</h3>

                            <hr>

                            <h5><a id="user-content-请求地址" class="anchor" href="#请求地址" aria-hidden="true"><span
                                        class="octicon octicon-link"></span></a>请求地址</h5>

                            <div class="highlight highlight-text-html-basic">
                                <pre>/api/decode.html</pre>
                            </div>

                            <h5><a id="user-content-参数" class="anchor" href="#参数" aria-hidden="true"><span
                                        class="octicon octicon-link"></span></a>参数</h5>

                            <table>
                                <thead>
                                <tr>
                                    <th>字段</th>
                                    <th>类型</th>
                                    <th>必须</th>
                                    <th>说明</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>qrcode</td>
                                    <td>FILE</td>
                                    <td>yes</td>
                                    <td>图片二进制格式</td>
                                </tr>
                                </tbody>
                            </table>

                            <h5><a id="user-content-请求返回" class="anchor" href="#请求返回" aria-hidden="true"><span
                                        class="octicon octicon-link"></span></a>请求返回</h5>

                            <table>
                                <thead>
                                <tr>
                                    <th>字段</th>
                                    <th>类型</th>
                                    <th>说明</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>code</td>
                                    <td>int</td>
                                    <td>返回码，成功0</td>
                                </tr>
                                <tr>
                                    <td>msg</td>
                                    <td>string</td>
                                    <td>消息</td>
                                </tr>
                                <tr>
                                    <td>result</td>
                                    <td>string</td>
                                    <td>返回结果</td>
                                </tr>
                                </tbody>
                            </table>

                            <h5><a id="user-content-请求返回实例" class="anchor" href="#请求返回实例" aria-hidden="true"><span
                                        class="octicon octicon-link"></span></a>请求返回实例</h5>

                            <h6><a id="user-content-成功" class="anchor" href="#成功" aria-hidden="true"><span
                                        class="octicon octicon-link"></span></a>成功</h6>

                            <div class="highlight highlight-source-js"><pre>{
    <span class="pl-s"><span class="pl-pds">"</span>code<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span
                                        class="pl-c1">0</span>,
    <span class="pl-s"><span class="pl-pds">"</span>msg<span class="pl-pds">"</span></span><span
                                        class="pl-k">:</span> <span class="pl-s"><span
                                            class="pl-pds">"</span>success<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>result<span class="pl-pds">"</span></span><span
                                        class="pl-k">:</span> <span class="pl-s"><span
                                            class="pl-pds">"</span>这是解码后的内容<span class="pl-pds">"</span></span>
}</pre>
                            </div>

                            <h6><a id="user-content-失败" class="anchor" href="#失败" aria-hidden="true"><span
                                        class="octicon octicon-link"></span></a>失败</h6>

                            <div class="highlight highlight-source-js"><pre>{
    <span class="pl-s"><span class="pl-pds">"</span>code<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span
                                        class="pl-c1">1</span>,
    <span class="pl-s"><span class="pl-pds">"</span>msg<span class="pl-pds">"</span></span><span
                                        class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>bad request<span
                                            class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>result<span class="pl-pds">"</span></span><span
                                        class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span><span
                                            class="pl-pds">"</span></span>
}</pre>
                            </div>

                            <h6><a id="user-content-php测试代码" class="anchor" href="#php测试代码" aria-hidden="true"><span
                                        class="octicon octicon-link"></span></a>php测试代码</h6>

                            <div class="highlight highlight-text-html-php"><pre><span class="pl-s1"><span
                                            class="pl-smi">$file</span> <span class="pl-k">=</span> <span class="pl-c1">realpath</span>(<span
                                            class="pl-s"><span class="pl-pds">'</span>qrcode.jpg<span
                                                class="pl-pds">'</span></span>); <span class="pl-c">//要上传的含二维码的图片</span></span>
<span class="pl-s1"><span class="pl-smi">$fields</span>[<span class="pl-s"><span class="pl-pds">'</span>qrcode<span
            class="pl-pds">'</span></span>] <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>@<span
            class="pl-pds">'</span></span><span class="pl-k">.</span><span class="pl-smi">$file</span>;</span>
<span class="pl-s1"><span class="pl-smi">$ch</span> <span class="pl-k">=</span> <span class="pl-c1">curl_init</span>();</span>
<span class="pl-s1"><span class="pl-c1">curl_setopt</span>(<span class="pl-smi">$ch</span>, <span class="pl-c1">CURLOPT_URL</span>,<span
        class="pl-s"><span class="pl-pds">"</span>http://10.13.4.162:10181/api/decode.html<span class="pl-pds">"</span></span>);</span>
<span class="pl-s1"><span class="pl-c1">curl_setopt</span>(<span class="pl-smi">$ch</span>, <span class="pl-c1">CURLOPT_POST</span>, <span
        class="pl-c1">1</span> );</span>
<span class="pl-s1"><span class="pl-c1">curl_setopt</span>(<span class="pl-smi">$ch</span>, <span class="pl-c1">CURLOPT_POSTFIELDS</span>, <span
        class="pl-smi">$fields</span>);</span>
<span class="pl-s1"><span class="pl-c1">curl_exec</span> (<span class="pl-smi">$ch</span>);</span>
<span class="pl-s1"><span class="pl-c1">curl_close</span> (<span class="pl-smi">$ch</span>);</span></pre>
                            </div>

                            <h6><a id="user-content-php测试返回" class="anchor" href="#php测试返回" aria-hidden="true"><span
                                        class="octicon octicon-link"></span></a>php测试返回</h6>

                            <div class="highlight highlight-source-js"><pre>{
    <span class="pl-s"><span class="pl-pds">"</span>result<span class="pl-pds">"</span></span><span
                                        class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>http://img.yingyonghui.com/apk/105468/com.lingdong.client.android.1299758130229.apk<span
                                            class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>code<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span
                                        class="pl-s"><span class="pl-pds">"</span>0<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>msg<span class="pl-pds">"</span></span><span
                                        class="pl-k">:</span> <span class="pl-s"><span
                                            class="pl-pds">"</span>success.<span class="pl-pds">"</span></span>
}</pre>
                            </div>
                        </article>
                    </div>

                </div>
                <div class="modal-backdrop"></div>
            </div>

        </div>
    </div>

</div>
</body>
</html>

